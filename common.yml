openapi: 3.0.3

components:

  responses:
    BadLicense:
      description: "Bad license. Either server or request does not contain valid license."
    BadRequest:
      description: "Bad request. Check your input data."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/OperationLog"


  schemas:
    QualityRequest:
      type: object
      description: "" # todo quality request description
      properties:
        align:
          $ref: "#/components/schemas/Align"
        background:
          $ref: "#/components/schemas/RGB"
        config:
          $ref: "#/components/schemas/QualityConfig"

    Align:
      type: object
      description: "" # todo align description
      properties:
        type:
          $ref: "#/components/schemas/FaceAlignTypeQuality"
          example: 1
        pad:
          $ref: "#/components/schemas/RGB"
          description: "" # todo padding description
        cropSize:
          type: array
          items:
            type: integer
          minItems: 2
          maxItems: 2
          description: "" # todo add crop description
          example: [420, 525]

    QualityConfig:
      type: object
      description: ""
      properties:
        name:
          $ref: "#/components/schemas/FaceQualityConfigName"
          description: ""
          example: "Roll"
        range:
          type: array
          items:
            type: float
          minItems: 2
          maxItems: 2
          description: ""
          example: [x, y]
        unit:
          $ref: "#/components/schemas/FaceQualityUnit"
          description: ""  # todo add unit description
          example: "degrees"

    QualityDetail:
      type: object
      properties:
        name:
          $ref: "#/components/schemas/FaceQualityConfigName"
          description: "" # todo detail name description
          example: "Roll"
        range:
          type: array
          description: "" # todo detail range description
          items:
            type: float
          minItems: 2
          maxItems: 2
          example: [x, y]
        status:
          $ref: "#/components/schemas/FaceQualityStatus"
          example: 1
        unit:
          $ref: "#/components/schemas/FaceQualityUnit"
          description: ""
          example: "degrees"
        value:
          type: float
          description: ""
          example: 2.602179527282715

    RGB:
      type: array
      items:
        type: integer
      minItems: 3
      maxItems: 3
      description: "Array of RGB color" # todo add rgb description
      example: [128, 128, 128]

    FaceQualityStatus:
      type: integer
      enum:
        - 0
        - 1
        - 2
      x-enum-varnames:
        - QUALITY_STATUS_FALSE
        - QUALITY_STATUS_TRUE
        - QUALITY_STATUS_UNDETERMINED

    FaceQualityUnit:
      type: string
      enum:
        - "pixels"
        - "relative"
        - "pcs"
        - "degrees"
        - "percent"
        - "bits"
        - "quantity"
      x-enum-varnames:
        - QUALITY_UNIT_PIXELS
        - QUALITY_UNIT_RELATIVE
        - QUALITY_UNIT_PSC
        - QUALITY_UNIT_DEGREES
        - QUALITY_UNIT_PERCENT
        - QUALITY_UNIT_BITS
        - QUALITY_UNIT_QUANTITY

    FaceQualityConfigName:
      type: string
      enum:
        - "BackgroundUniformity"
        - "BlurLevel"
        - "ContactLenses"
        - "DarkGlasses"
        - "ExpressionLevel"
        - "EyeLeftClosed"
        - "EyeLeftCoveredWithHair"
        - "EyeLeftOccluded"
        - "EyeRightClosed"
        - "EyeRightCoveredWithHair"
        - "EyeRightOccluded"
        - "EyesDistance"
        - "EyesRed"
        - "FaceDynamicRange"
        - "FaceGlare"
        - "FaceMidPointHorizontalPosition"
        - "FaceMidPointVerticalPosition"
        - "FaceOccluded"
        - "ForeheadCovering"
        - "FramesTooHeavy"
        - "HeadCovering"
        - "HeadHeightRatio"
        - "HeadWidthRatio"
        - "ImageChannelsNumber"
        - "ImageHeight"
        - "ImageWidth"
        - "ImageWidthToHeight"
        - "MouthOpen"
        - "NoiseLevel"
        - "OffGaze"
        - "OtherFaces"
        - "PaddingRatio"
        - "Pitch"
        - "ReflectionOnGlasses"
        - "Roll"
        - "ShadowsOnBackground"
        - "ShadowsOnFace"
        - "ShouldersPose"
        - "Smile"
        - "StrongMakeup"
        - "TooDark"
        - "TooLight"
        - "UnnaturalSkinTone"
        - "Yaw"
      x-enum-varnames:
        - BACKGROUND_UNIFORMITY
        - BLUR_LEVEL
        - CONTACT_LENSES
        - DARK_GLASSES
        - EXPRESSION_LEVEL
        - EYES_DISTANCE
        - EYES_RED
        - EYE_LEFT_CLOSED
        - EYE_LEFT_COVERED_WITH_HAIR
        - EYE_LEFT_OCCLUDED
        - EYE_RIGHT_CLOSED
        - EYE_RIGHT_COVERED_WITH_HAIR
        - EYE_RIGHT_OCCLUDED
        - FACE_DYNAMIC_RANGE
        - FACE_GLARE
        - FACE_MID_POINT_HORIZONTAL_POSITION
        - FACE_MID_POINT_VERTICAL_POSITION
        - FACE_OCCLUDED
        - FOREHEAD_COVERING
        - FRAMES_TOO_HEAVY
        - HEAD_COVERING
        - HEAD_HEIGHT_RATIO
        - HEAD_WIDTH_RATIO
        - IMAGE_CHANNELS_NUMBER
        - IMAGE_HEIGHT
        - IMAGE_WIDTH
        - IMAGE_WIDTH_TO_HEIGHT
        - MOUTH_OPEN
        - NOISE_LEVEL
        - OFF_GAZE
        - OTHER_FACES
        - PADDING_RATIO
        - PITCH
        - REFLECTION_ON_GLASSES
        - ROLL
        - SHADOWS_ON_BACKGROUND
        - SHADOWS_ON_FACE
        - SHOULDERS_POSE
        - SMILE
        - STRONG_MAKEUP
        - TOO_DARK
        - TOO_LIGHT
        - UNNATURAL_SKIN_TONE
        - YAW

    FaceSDKResult:
      type: object
      required:
        - code
      properties:
        code:
          $ref: "#/components/schemas/FaceSDKResultCode"

    ImageData:
      description: "Base64 encoded image"
      type: string
      format: byte

    OperationLog:
      type: object
      properties:
        status_code:
          type: integer
        type:
          type: string
        msg:
          type: string

    Bytes:
      type: string
      format: binary

    FaceAlignTypeQuality:
      type: integer
      description: "" # todo add align type description
      enum:
        - 0
        - 1
      x-enum-varnames:
        - QUALITY_ALIGN_3x4
        - ALIGN_4x5

    FaceSDKResultCode:
      type: integer
      description: "Result codes from core lib."
      enum:
        - 0
        - 200
        - 201
        - 202
        - 203
        - 204
        - 205
        - 206
        - 207
        - 208
        - 209
        - 210
        - 211
        - 212
        - 213
        - 214
        - 215
        - 216
        - 217
        - 218
        - 219
        - 220
        - 221
        - 222
        - 223
        - 224
        - 225
        - 226
        - 227
        - 228
        - 229
      x-enum-varnames:
        - FACER_OK
        - FACER_NO_LICENSE
        - FACER_IS_NOT_INITIALIZED
        - FACER_COMMAND_IS_NOT_SUPPORTED
        - FACER_COMMAND_PARAMS_READ_ERROR
        - FACER_SEARCHER_INDEX_FILE_NOT_EXIST
        - FACER_SEARCHER_INDEX_FILE_READ_ERROR
        - FACER_SEARCHER_INDEX_FILE_DECRYPTION_ERROR
        - FACER_SEARCHER_INDEX_LOAD_ERROR
        - FACER_SEARCHER_WRONG_DESCRIPTOR_VERSION
        - FACER_SEARCHER_INDEX_FILE_ENCRYPTION_ERROR
        - FACER_SEARCHER_INDEX_FILE_SAVE_ERROR
        - FACER_SEARCHER_IMAGE_DECODE_ERROR
        - FACER_SEARCHER_ID_EXISTS_IN_INDEX
        - FACER_SEARCHER_ID_NOT_IN_INDEX
        - FACER_SEARCHER_NO_FACES
        - FACER_SEARCHER_DESCRIPTOR_EXTRACTOR_ERROR
        - FACER_SEARCHER_METADATA_READ_ERROR
        - FACER_SEARCHER_NO_SEARCH_LICENSE
        - FACER_SEARCHER_DESCRIPTOR_DECODE_ERROR
        - FACER_SEARCHER_DESCRIPTOR_WRONG_SIZE
        - FACER_SEARCHER_ZIP_IMAGE_READ_ERROR
        - FACER_SEARCHER_ZIP_META_READ_ERROR
        - FACER_SEARCHER_SIMILAR_PHOTOS_EXIST
        - FACER_SEARCHER_PERSON_ZIP_READ_ERROR
        - FACER_LESS_THAN_TWO_IMAGES_IN_REQUEST
        - FACER_SEARCHER_WRONG_ID
        - FACER_SEARCHER_ID_EXISTS_IN_DELETED
        - FACER_VIDEO_DECODE_ERROR
        - FACER_NOT_ENOUGH_FRAMES
        - FACER_OUTPUT_IS_NOT_DEFINED

    Thumbnail:
      description: "Formatted base64 face detection image."
      type: string
      format: byte

    FaceRectangular:
      description: "Rectangular area of the detected face. First element - X-axis coordinate. Second element - Y-axis coordinate. (X, Y) - left top point. Third element - rectangular width. Fourth element - rectangular height."
      type: array
      items:
        type: number
      example: [x, y, width, height]